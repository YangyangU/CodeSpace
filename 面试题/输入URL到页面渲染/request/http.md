# 超文本传输协议 HTTP/0.9
1. 客户端发送GET请求，请求一个 xxxx/index.html
2. 服务器接收到请求后，读取对应的html文件，以ASCII的字符流返回给客户端

- 特点：
    1. 只有请求行，没有请求头和请求体
    2. 没有响应头
    3. 传输的内容是以ASCII的字符流

# HTTP/1.0
 相比于0.9， 1.0可以支持多种类型文件的传输

 通过引入请求头和响应头来让客户端和服务端更加深入的交流，key-value形式

 - 为什么有了请求头和响应头就能支持多种文件的数据传输

 请求头：accept:text/html
        accept-encoding:gzip, deflate, br
        accept-language:zh-CN

 响应头：Content-Encoding:br
        Content-Type:text/html;charset=UTF-8
        

# HTTP/1.1
 持久连接，一个TCP连接建立，可以传输多个HTTP请求，减少了大量TCP连接和断开连接带来的开销

 Connection:true || close

 浏览器默认支持 6个 TCP持久连接

 - 队头阻塞
    1. 管线化：批量发请求（放弃）
 - 虚拟机
    请求头：Host 字段


 - 动态内容
    (1.0) content-Length: 1024

 - Chunk transfer 机制：将数据分割成若干个任意大小的数据块，每个数据块标记好长度，最后发送一个长度为0的数据块来标志发送完毕


# HTTP/2.0

 - 1.1的问题：宽带用不满
  1. TCP的慢启动：拥塞控制导致一定会慢启动，慢启动导致页面关键资源加载时间推后
  2. 多条TCP链接竞争带宽导致每条TCP链接中能被分配的贷款大大降低
  3. 队头阻塞，前一个请求延迟，后一个请求便无法发送，地址带宽浪费

 - 2.0多路复用
  1. 一个域名只是使用一个TCP长连接
  2. 将每一个请求分成一帧一帧的数据进行传输并打上编号，同时发送给服务端，且可以在重要的资源请求中编辑为加急，服务端接收到带有各种标号的数据帧后，可以区分那个数据帧加急，优先整理和响应该请求的数据帧（通过引入了二进制分帧层实现多路复用）

# HTTP/HTTPS

 GET  /images/logo.png  HTTP/1.1

    幂等：注册10次和20次，不是幂等。更改文章10次和20次，是幂等

    - GET VS POST (副作用和幂等)
        1. GET用于无副作用幂等的场景，POST用于有副作用不幂等的场景
        2. GET请求能缓存，POST不能
        3. POST相对安全一点，仅仅是因为POST的参数是在请求体中，而GET的参数是拼接在URL中
        4. URL的长度是有限度的，所以GET请求会受影响
        5. POST支持更多的编码类型，且不对数据类型做限制（Koa,body-parser）


# HTTP状态码
    100 -继续
    101 -切换协议
    200 -成功
    201 -成功，且创建了资源
    202 -成功，但需要进一步操作
    204 -成功，但没有返回任何内容
    301 -永久重定向
    302 -临时重定向
    400 -请求无效
    401 -未授权
    402 -付费
    403 -禁止访问
    404 -页面不存在
    500 -服务器错误
    501 -服务器不支持
    502 -服务器异常
    503 -服务器超时

# TLS协议
 HTTPS = HTTP + TLS

 1. 对称加密
    双方都知道如何加密和解密

 如何让双方都具有相同的密钥，通过网络传输该密钥，一旦被截获，之后的内容加密也无意义

 2. 非对称加密
    服务端生成公钥和私钥，将公钥公布，客户端接收到公钥后生成一个密钥，再利用公钥加密给密钥传输给服务端，服务端解密得到密钥

# HTTP/3.0
 2.0的缺陷
  1. TCP的队头阻塞：当单个数据包丢失时，TCP会暂停后续包的传输，先重传丢失的包数据
  2. TCP慢启动

  - TCP协议僵化：TCP常用于物理层，一旦TCP修改，路由器，交换机，防火墙...全部要更新

  - QUIC协议：QUIC协议是基于UDP协议的，在UDP上实现了类似于TCP的多路数据流，可靠性传输等功能
    1. 实现了类似于TCP的流量控制和可靠性传输
    2. 集成了TLS加密
    3. 实现了HTTP2中的多路复用