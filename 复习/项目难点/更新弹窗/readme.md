# 项目难点—集成gitlab ci工作流，实现记录每次commit message，每次tag版本更新，自动生成txt文件，打开工具时自动展示弹窗，并展示本次更新的所有commit。这个功能是我的项目难点，应该如何想面试官表述，从拿到这个需求到开展到实现

## 需求分析
收到需求后，我首先理解了关键点：需要在每次代码提交（commit）时记录信息，并在每次tag版本更新时自动生成一个包含所有commit信息的txt文件。这个文件将在工具启动时以弹窗形式展示给用户，提示本次更新的内容。

技术选型：gitlab CI 、git指令、Vue弹窗组件封装

2. 设计与规划
工作流设计：为了实现这一功能，我设计了一个GitLab CI/CD Pipeline，包括以下几个步骤：

yml配置：在项目的根目录下创建一个.gitlab-ci.yml文件，定义CI/CD流程的各个阶段和任务。

每次版本更新release时、或新增一个tag，自动触发CI流程，获取自上一个tag以来的所有commit信息，生成一个txt文件并将其存储在项目的指定目录下。

生成txt文件：在项目打Tag的时候，自动触发CI流程，获取自上一个tag以来的所有commit信息，生成一个txt文件并将其存储在项目的指定目录下。
展示更新内容：在用户打开工具时，通过JavaScript或其他前端技术读取生成的txt文件内容，并以弹窗的形式展示给用户，提示本次更新的commit。
3. 实施
Pipeline配置：我在GitLab中配置了CI Pipeline，包括多个阶段（如测试、构建、部署），并在每个阶段根据需求编写脚本。
使用Git命令如git log来提取commit信息。
使用CI/CD环境变量来动态传递和存储信息。
利用GitLab的Artifact功能，将生成的txt文件保存在CI Pipeline中，并在部署时一起发布。
前端集成：在工具启动时，我通过JavaScript代码读取txt文件内容，并结合UI框架（如Ant Design、Bootstrap等）实现弹窗展示功能。
4. 测试与优化
测试：在开发完成后，我对整个流程进行了测试，确保每次commit信息都能正确捕捉，tag版本更新时txt文件能正确生成，并且弹窗能在工具启动时准确显示。
优化：为了提高用户体验，我优化了弹窗的样式和展示时机，确保它不会在工具启动时打扰用户的正常操作。
5. 总结与反思
挑战与解决：在项目过程中，最大的挑战是如何高效地在CI流程中管理和传递大量的commit信息，并确保txt文件的生成和展示过程不会影响其他功能的正常运行。通过合理的工作流设计和环境变量的使用，我顺利解决了这些问题。
收获：这一功能的实现不仅增强了项目的自动化程度，也提升了用户体验。我在这个过程中深刻理解了持续集成/持续部署（CI/CD）的重要性以及如何在实际项目中应用它们来解决复杂的需求。